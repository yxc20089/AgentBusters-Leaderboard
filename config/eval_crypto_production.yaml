# AgentBusters Crypto Trading Benchmark - PRODUCTION CONFIG (secure template)
# Keep this file public-safe. Store secrets/seeds/data in private locations only.
# Do NOT commit: ~/.agentbusters/hidden_seeds.yaml or data/crypto/hidden.

name: "AgentBusters Crypto Trading Benchmark (Production)"
version: "1.0"

datasets:
  - type: crypto
    path: data/crypto/hidden  # Private fallback only (do not commit)
    # Optional: private manifest (signed URL or private repo)
    # remote_manifest: https://example.com/private/crypto/manifest.json
    download_on_missing: false

    # PostgreSQL direct query mode
    pg_enabled: true
    pg_host: localhost
    pg_port: 5432
    pg_dbname: market_data
    pg_user: postgres
    # pg_password: your_password  # Or set PGPASSWORD env var
    pg_ohlcv_table: market_data.candles_1m
    pg_funding_table: market_data.funding_rates

    # Hidden windows anti-overfitting configuration
    # Master seed is in ~/.agentbusters/hidden_seeds.yaml (NOT in repo)
    hidden_seed_config: crypto_benchmark_v1
    window_count: 12
    symbols:
      - BTCUSDT
      - ETHUSDT
    date_range_start: "2020-01-01"
    date_range_end: "2025-12-31"
    window_min_bars: 1440   # 1 day at 1m timeframe
    window_max_bars: 10080  # 7 days at 1m timeframe

    shuffle: false
    weight: 1.0
    stride: 1
    max_steps: 1440  # Full day evaluation

    evaluation:
      initial_balance: 10000.0
      max_leverage: 3.0
      trading_fee: 0.0004
      price_noise_level: 0.001
      slippage_range: [0.0002, 0.0010]
      adversarial_injection_rate: 0.05
      decision_interval: 15  # Decision every 15 bars (96 decisions/day)
      funding_interval_hours: 8.0
      score_weights:
        baseline: 0.40
        noisy: 0.30
        adversarial: 0.20
        meta: 0.10
      metric_weights:
        sharpe: 0.50         # Primary ranking metric
        total_return: 0.25   # Secondary
        max_drawdown: 0.15   # Risk
        win_rate: 0.10       # Consistency
      meta_transforms:
        - identity
        - scale_1_1
        - invert_returns

sampling:
  strategy: sequential
  total_limit: 12  # All windows
  seed: 42

debate: false
timeout_seconds: 600
